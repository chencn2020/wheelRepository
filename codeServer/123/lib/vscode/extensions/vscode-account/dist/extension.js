!function(e,t){for(var n in t)e[n]=t[n]}(exports,function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t){e.exports=require("vscode")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("fs")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(0);function r(e,t,n=" "){return n.repeat(Math.max(0,t-e.length))+e}const s=new class{constructor(){this.output=o.window.createOutputChannel("Account")}data2String(e){return e instanceof Error?e.stack||e.message:!1===e.success&&e.message?e.message:e.toString()}info(e,t){this.logLevel("Info",e,t)}error(e,t){this.logLevel("Error",e,t)}logLevel(e,t,n){this.output.appendLine(`[${e}  - ${this.now()}] ${t}`),n&&this.output.appendLine(this.data2String(n))}now(){const e=new Date;return r(e.getUTCHours()+"",2,"0")+":"+r(e.getMinutes()+"",2,"0")+":"+r(e.getUTCSeconds()+"",2,"0")+"."+e.getMilliseconds()}};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(0),r=n(5),s=n(15).loadMessageBundle(n(1).join(__dirname,"extension.ts"));t.DEFAULT_SCOPES="https://management.core.windows.net/.default offline_access",t.activate=async function(e){const n=new r.AzureActiveDirectoryService;await n.initialize(),e.subscriptions.push(o.authentication.registerAuthenticationProvider({id:"microsoft",displayName:"Microsoft",onDidChangeSessions:r.onDidChangeSessions.event,getSessions:()=>Promise.resolve(n.sessions),login:async e=>{try{return await n.login(e.sort().join(" ")),n.sessions[0]}catch(e){throw e}},logout:async e=>n.logout(e)})),e.subscriptions.push(o.commands.registerCommand("microsoft.signin",()=>n.login(t.DEFAULT_SCOPES))),e.subscriptions.push(o.commands.registerCommand("microsoft.signout",async()=>{const e=n.sessions;if(0===e.length)return;if(1===e.length)return await n.logout(n.sessions[0].id),r.onDidChangeSessions.fire(),void o.window.showInformationMessage(s(0,null));const t=await o.window.showQuickPick(e.map(e=>({id:e.id,label:e.accountName})));return t?(await n.logout(t.id),r.onDidChangeSessions.fire(),void o.window.showInformationMessage(s(1,null))):void 0}))},t.deactivate=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(6),r=n(7),s=n(8),i=n(0),a=n(9),c=n(12),l=n(3),u=n(14),d="https://vscode-redirect.azurewebsites.net/",f="https://login.microsoftonline.com/",h="aebc6443-996d-45c2-90f0-388ff96faa56",g="organizations";t.onDidChangeSessions=new i.EventEmitter,t.REFRESH_NETWORK_FAILURE="Network failure";class p extends i.EventEmitter{handleUri(e){this.fire(e)}}t.AzureActiveDirectoryService=class{constructor(){this._tokens=[],this._refreshTimeouts=new Map,this._uriHandler=new p,i.window.registerUriHandler(this._uriHandler)}async initialize(){const e=await c.keychain.getToken();if(e)try{const n=this.parseStoredData(e).map(async e=>{try{await this.refreshToken(e.refreshToken,e.scope)}catch(n){n.message===t.REFRESH_NETWORK_FAILURE?await this.handleRefreshNetworkError(e.id,e.refreshToken,e.scope)||(this._tokens.push({accessToken:void 0,refreshToken:e.refreshToken,accountName:e.accountName,scope:e.scope,sessionId:e.id}),this.pollForReconnect(e.id,e.refreshToken,e.scope)):await this.logout(e.id)}});await Promise.all(n)}catch(e){await this.clearSessions()}this.pollForChange()}parseStoredData(e){return JSON.parse(e)}async storeTokenData(){const e=this._tokens.map(e=>({id:e.sessionId,refreshToken:e.refreshToken,scope:e.scope,accountName:e.accountName}));await c.keychain.setToken(JSON.stringify(e))}pollForChange(){setTimeout(async()=>{let e=!1;const n=await c.keychain.getToken();if(n)try{const o=this.parseStoredData(n);let r=o.map(async n=>{if(!this._tokens.some(e=>e.scope===n.scope&&e.sessionId===n.id))try{await this.refreshToken(n.refreshToken,n.scope),e=!0}catch(e){e.message===t.REFRESH_NETWORK_FAILURE||await this.logout(n.id)}});r=r.concat(this._tokens.map(async t=>{o.some(e=>t.scope===e.scope&&t.sessionId===e.id)||(await this.logout(t.sessionId),e=!0)})),await Promise.all(r)}catch(t){l.default.error(t.message),this.clearSessions(),e=!0}else this._tokens.length&&(await this.clearSessions(),e=!0);e&&t.onDidChangeSessions.fire(),this.pollForChange()},3e4)}convertToSession(e){return{id:e.sessionId,getAccessToken:()=>this.resolveAccessToken(e),accountName:e.accountName,scopes:e.scope.split(" ")}}async resolveAccessToken(e){if(e.accessToken&&(!e.expiresAt||e.expiresAt>Date.now()))return e.expiresAt?l.default.info(`Token available from cache, expires in ${e.expiresAt-Date.now()} milliseconds`):l.default.info("Token available from cache"),Promise.resolve(e.accessToken);try{if(l.default.info("Token expired or unavailable, trying refresh"),!(await this.refreshToken(e.refreshToken,e.scope)).accessToken)throw new Error;Promise.resolve(e.accessToken)}catch(e){throw new Error("Unavailable due to network problems")}throw new Error("Unavailable due to network problems")}getTokenClaims(e){try{return JSON.parse(Buffer.from(e.split(".")[1],"base64").toString())}catch(e){throw l.default.error(e.message),new Error("Unable to read token claims")}}get sessions(){return this._tokens.map(e=>this.convertToSession(e))}async login(e){if(l.default.info("Logging in..."),i.env.uiKind===i.UIKind.Web)return void await this.loginWithoutLocalServer(e);const t=o.randomBytes(16).toString("base64"),{server:n,redirectPromise:r,codePromise:s}=a.createServer(t);let c;try{const p=await a.startServer(n);i.env.openExternal(i.Uri.parse(`http://localhost:${p}/signin?nonce=${encodeURIComponent(t)}`));const m=await r;if("err"in m){const{err:e,res:t}=m;throw t.writeHead(302,{Location:`/?error=${encodeURIComponent(e&&e.message||"Unknown error")}`}),t.end(),e}const v=m.req.headers.host||"",w=(/^[^:]+:(\d+)$/.exec(Array.isArray(v)?v[0]:v)||[])[1],y=`${w?parseInt(w,10):p},${encodeURIComponent(t)}`,k=u.toBase64UrlEncoding(o.randomBytes(32).toString("base64")),_=u.toBase64UrlEncoding(o.createHash("sha256").update(k).digest("base64")),S=`${f}${g}/oauth2/v2.0/authorize?response_type=code&response_mode=query&client_id=${encodeURIComponent(h)}&redirect_uri=${encodeURIComponent(d)}&state=${y}&scope=${encodeURIComponent(e)}&prompt=select_account&code_challenge_method=S256&code_challenge=${_}`;await m.res.writeHead(302,{Location:S}),m.res.end();const T=await s,b=T.res;try{if("err"in T)throw T.err;c=await this.exchangeCodeForToken(T.code,k,e),this.setToken(c,e),l.default.info("Login successful"),b.writeHead(302,{Location:"/"}),b.end()}catch(e){throw b.writeHead(302,{Location:`/?error=${encodeURIComponent(e&&e.message||"Unknown error")}`}),b.end(),new Error(e.message)}}catch(t){throw l.default.error(t.message),"Error listening to server"!==t.message&&"Closed"!==t.message&&"Timeout waiting for port"!==t.message||await this.loginWithoutLocalServer(e),new Error(t.message)}finally{setTimeout(()=>{n.close()},5e3)}}getCallbackEnvironment(e){switch(e.authority){case"online.visualstudio.com":return"vso,";case"online-ppe.core.vsengsaas.visualstudio.com":return"vsoppe,";case"online.dev.core.vsengsaas.visualstudio.com":return"vsodev,";default:return""}}async loginWithoutLocalServer(e){const t=await i.env.asExternalUri(i.Uri.parse(`${i.env.uriScheme}://vscode.vscode-account`)),n=o.randomBytes(16).toString("base64"),r=(t.authority.match(/:([0-9]*)$/)||[])[1]||("https"===t.scheme?443:80),s=`${this.getCallbackEnvironment(t)}${r},${encodeURIComponent(n)},${encodeURIComponent(t.query)}`,a=`${f}${g}/oauth2/v2.0/authorize`;let c=i.Uri.parse(a);const l=u.toBase64UrlEncoding(o.randomBytes(32).toString("base64")),p=u.toBase64UrlEncoding(o.createHash("sha256").update(l).digest("base64"));c=c.with({query:`response_type=code&client_id=${encodeURIComponent(h)}&response_mode=query&redirect_uri=${d}&state=${s}&scope=${e}&prompt=select_account&code_challenge_method=S256&code_challenge=${p}`}),i.env.openExternal(c);const m=new Promise((e,t)=>{const n=setTimeout(()=>{clearTimeout(n),t("Login timed out.")},3e5)});return Promise.race([this.handleCodeResponse(s,l,e),m])}async handleCodeResponse(e,t,n){let o;return new Promise((r,s)=>{o=this._uriHandler.event(async o=>{try{const i=function(e){return e.query.split("&").reduce((e,t)=>{const n=t.split("=");return e[n[0]]=n[1],e},{})}(o),a=i.code;if(i.state!==e)throw new Error("State does not match.");const c=await this.exchangeCodeForToken(a,t,n);this.setToken(c,n),r(c)}catch(e){s(e)}})}).then(e=>(o.dispose(),e)).catch(e=>{throw o.dispose(),e})}async setToken(e,n){const o=this._tokens.findIndex(t=>t.sessionId===e.sessionId);o>-1?this._tokens.splice(o,1,e):this._tokens.push(e),this.clearSessionTimeout(e.sessionId),e.expiresIn&&this._refreshTimeouts.set(e.sessionId,setTimeout(async()=>{try{await this.refreshToken(e.refreshToken,n),t.onDidChangeSessions.fire()}catch(o){o.message===t.REFRESH_NETWORK_FAILURE?await this.handleRefreshNetworkError(e.sessionId,e.refreshToken,n)||this.pollForReconnect(e.sessionId,e.refreshToken,e.scope):(await this.logout(e.sessionId),t.onDidChangeSessions.fire())}},1e3*(parseInt(e.expiresIn)-30))),this.storeTokenData()}getTokenFromResponse(e,t){const n=JSON.parse(Buffer.concat(e).toString()),o=this.getTokenClaims(n.access_token);return{expiresIn:n.expires_in,expiresAt:n.expires_in?Date.now()+1e3*n.expires_in:void 0,accessToken:n.access_token,refreshToken:n.refresh_token,scope:t,sessionId:`${o.tid}/${o.oid||o.altsecid||""+o.ipd||""}/${t}`,accountName:o.email||o.unique_name||"user@example.com"}}async exchangeCodeForToken(e,t,n){return new Promise((o,a)=>{l.default.info("Exchanging login code for token");try{const c=s.stringify({grant_type:"authorization_code",code:e,client_id:h,scope:n,code_verifier:t,redirect_uri:d}),u=i.Uri.parse(`${f}${g}/oauth2/v2.0/token`),p=r.request({host:u.authority,path:u.path,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":c.length}},e=>{const t=[];e.on("data",e=>{t.push(e)}),e.on("end",()=>{200===e.statusCode?(l.default.info("Exchanging login code for token success"),o(this.getTokenFromResponse(t,n))):(l.default.error("Exchanging login code for token failed"),a(new Error("Unable to login.")))})});p.write(c),p.end(),p.on("error",e=>{a(e)})}catch(e){l.default.error(e.message),a(e)}})}async refreshToken(e,n){return new Promise((o,i)=>{l.default.info("Refreshing token...");const a=s.stringify({refresh_token:e,client_id:h,grant_type:"refresh_token",scope:n}),c=r.request({host:"login.microsoftonline.com",path:`/${g}/oauth2/v2.0/token`,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":a.length}},e=>{const t=[];e.on("data",e=>{t.push(e)}),e.on("end",async()=>{if(200===e.statusCode){const e=this.getTokenFromResponse(t,n);this.setToken(e,n),l.default.info("Token refresh success"),o(e)}else l.default.error("Refreshing token failed"),i(new Error("Refreshing token failed."))})});c.write(a),c.end(),c.on("error",e=>{l.default.error(e.message),i(new Error(t.REFRESH_NETWORK_FAILURE))})})}clearSessionTimeout(e){const t=this._refreshTimeouts.get(e);t&&(clearTimeout(t),this._refreshTimeouts.delete(e))}removeInMemorySessionData(e){const t=this._tokens.findIndex(t=>t.sessionId===e);t>-1&&this._tokens.splice(t,1),this.clearSessionTimeout(e)}pollForReconnect(e,t,n){this.clearSessionTimeout(e),this._refreshTimeouts.set(e,setTimeout(async()=>{try{await this.refreshToken(t,n)}catch(o){this.pollForReconnect(e,t,n)}},18e5))}handleRefreshNetworkError(e,n,o,r=1){return new Promise((s,i)=>{if(3===r)return l.default.error("Token refresh failed after 3 attempts"),s(!1);if(1===r){const n=this._tokens.find(t=>t.sessionId===e);n&&(n.accessToken=void 0),t.onDidChangeSessions.fire()}const a=5*r*r;this.clearSessionTimeout(e),this._refreshTimeouts.set(e,setTimeout(async()=>{try{return await this.refreshToken(n,o),s(!0)}catch(t){return s(await this.handleRefreshNetworkError(e,n,o,r+1))}},1e3*a))})}async logout(e){l.default.info(`Logging out of session '${e}'`),this.removeInMemorySessionData(e),0===this._tokens.length?await c.keychain.deleteToken():this.storeTokenData()}async clearSessions(){l.default.info("Logging out of all sessions"),this._tokens=[],await c.keychain.deleteToken(),this._refreshTimeouts.forEach(e=>{clearTimeout(e)}),this._refreshTimeouts.clear()}}},function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("querystring")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(10),r=n(11),s=n(2),i=n(1),a={number:"number",string:"string",undefined:"undefined",object:"object",function:"function"};function c(e){return typeof e===a.undefined}function l(e){return c(e)||null===e}function u(e){if(l(e))throw new Error("Assertion Failed: argument is undefined or null");return e}function d(e,t,n){s.readFile(t,(t,o)=>{t?(console.error(t),e.writeHead(404),e.end()):(e.writeHead(200,{"Content-Length":o.length,"Content-Type":n}),e.end(o))})}t.isUndefined=c,t.isUndefinedOrNull=l,t.assertIsDefined=u,t.createTerminateServer=function(e){const t={};let n=0;return e.on("connection",e=>{const o=n++;t[o]=e,e.on("close",()=>{delete t[o]})}),async()=>{const n=new Promise(t=>e.close(t));for(const e in t)t[e].destroy();return n}},t.startServer=async function(e){let t;function n(){clearTimeout(t)}const o=new Promise((n,o)=>{t=setTimeout(()=>{o(new Error("Timeout waiting for port"))},5e3),e.on("listening",()=>{const t=e.address();n("string"==typeof t?t:u(t).port.toString())}),e.on("error",e=>{o(new Error("Error listening to server"))}),e.on("close",()=>{o(new Error("Closed"))}),e.listen(0)});return o.then(n,n),o},t.createServer=function(e){let t;const n=new Promise((e,n)=>t={resolve:e,reject:n});let s;const a=new Promise((e,t)=>s={resolve:e,reject:t}),c=setTimeout(()=>{s.reject(new Error("Timeout waiting for code"))},3e5);function l(){clearTimeout(c)}const u=o.createServer(function(n,o){const a=r.parse(n.url,!0);switch(a.pathname){case"/signin":if((a.query.nonce||"").replace(/ /g,"+")===e)t.resolve({req:n,res:o});else{const e=new Error("Nonce does not match.");t.resolve({err:e,res:o})}break;case"/":d(o,i.join(__dirname,"../media/auth.html"),"text/html; charset=utf-8");break;case"/auth.css":d(o,i.join(__dirname,"../media/auth.css"),"text/css; charset=utf-8");break;case"/callback":s.resolve(async function(e,t){const n=t.query;if(!n||"string"==typeof n)throw new Error("No query received.");let o=n.error_description||n.error;o||((n.state||"").split(",")[1]||"").replace(/ /g,"+")!==e&&(o="Nonce does not match.");const r=n.code;if(!o&&r)return r;throw new Error(o||"No code received.")}(e,a).then(e=>({code:e,res:o}),e=>({err:e,res:o})));break;default:o.writeHead(404),o.end()}});return a.then(l,l),{server:u,redirectPromise:n,codePromise:a}}},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("url")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(0),r=n(3);const s=`${o.env.uriScheme}-vscode.login`,i="account";class a{constructor(){const e=function(){try{return n(13)}catch(e){console.log(e)}}();if(!e)throw new Error("System keychain unavailable");this.keytar=e}async setToken(e){try{return await this.keytar.setPassword(s,i,e)}catch(e){r.default.error(`Setting token failed: ${e}`)}}async getToken(){try{return await this.keytar.getPassword(s,i)}catch(e){return r.default.error(`Getting token failed: ${e}`),Promise.resolve(void 0)}}async deleteToken(){try{return await this.keytar.deletePassword(s,i)}catch(e){return r.default.error(`Deleting token failed: ${e}`),Promise.resolve(void 0)}}}t.Keychain=a,t.keychain=new a},function(e,t){e.exports=require("keytar")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toBase64UrlEncoding=function(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,s,i,a,c,l=n(1),u=n(2),d=Object.prototype.toString;function f(e){return void 0!==e}function h(e){return"[object String]"===d.call(e)}function g(e){return JSON.parse(u.readFileSync(e,"utf8"))}function p(e,t){return c&&(e="［"+e.replace(/[aouei]/g,"$&$&")+"］"),0===t.length?e:e.replace(/\{(\d+)\}/g,function(e,n){var o=n[0],r=t[o],s=e;return"string"==typeof r?s=r:"number"!=typeof r&&"boolean"!=typeof r&&void 0!==r&&null!==r||(s=String(r)),s})}function m(e){return function(t,n){for(var o=[],r=2;r<arguments.length;r++)o[r-2]=arguments[r];return function(e){return"[object Number]"===d.call(e)}(t)?t>=e.length?void console.error("Broken localize call found. Index out of bounds. Stacktrace is\n: "+new Error("").stack):p(e[t],o):h(n)?(console.warn("Message "+n+" didn't get externalized correctly."),p(n,o)):void console.error("Broken localize call found. Stacktrace is\n: "+new Error("").stack)}}function v(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return p(t,n)}function w(e,t){return i[e]=t,t}function y(e,t){var n,o=l.join(a.cacheRoot,e.id+"-"+e.hash+".json"),r=!1,s=!1;try{return n=JSON.parse(u.readFileSync(o,{encoding:"utf8",flag:"r"})),function(e){var t=new Date;u.utimes(e,t,t,function(){})}(o),n}catch(e){if("ENOENT"===e.code)s=!0;else{if(!(e instanceof SyntaxError))throw e;console.log("Syntax error parsing message bundle: "+e.message+"."),u.unlink(o,function(e){e&&console.error("Deleting corrupted bundle "+o+" failed.")}),r=!0}}if(!(n=function(e,t){var n=a.translationsConfig[e.id];if(n){var o=g(n).contents,r=g(l.join(t,"nls.metadata.json")),s=Object.create(null);for(var i in r){var c=r[i],u=o[e.outDir+"/"+i];if(u){for(var d=[],f=0;f<c.keys.length;f++){var p=c.keys[f],m=u[h(p)?p:p.key];void 0===m&&(m=c.messages[f]),d.push(m)}s[i]=d}else s[i]=c.messages}return s}}(e,t))||r)return n;if(s)try{u.writeFileSync(o,JSON.stringify(n),{encoding:"utf8",flag:"wx"})}catch(e){if("EEXIST"===e.code)return n;throw e}return n}function k(e){try{return function(e){var t=g(l.join(e,"nls.metadata.json")),n=Object.create(null);for(var o in t){var r=t[o];n[o]=r.messages}return n}(e)}catch(e){return void console.log("Generating default bundle from meta data failed.",e)}}function _(e,t){var n;if(!0===a.languagePackSupport&&void 0!==a.cacheRoot&&void 0!==a.languagePackId&&void 0!==a.translationsConfigFile&&void 0!==a.translationsConfig)try{n=y(e,t)}catch(e){console.log("Load or create bundle failed ",e)}if(!n){if(a.languagePackSupport)return k(t);var o=function(e){for(var t=a.language;t;){var n=l.join(e,"nls.bundle."+t+".json");if(u.existsSync(n))return n;var o=t.lastIndexOf("-");t=o>0?t.substring(0,o):void 0}if(void 0===t&&(n=l.join(e,"nls.bundle.json"),u.existsSync(n)))return n}(t);if(o)try{return g(o)}catch(e){console.log("Loading in the box message bundle failed.",e)}n=k(t)}return n}function S(e){if(!e)return v;var t=l.extname(e);if(t&&(e=e.substr(0,e.length-t.length)),a.messageFormat===o.both||a.messageFormat===o.bundle){var n=function(e){for(var t,n=l.dirname(e);t=l.join(n,"nls.metadata.header.json"),!u.existsSync(t);){var o=l.dirname(n);if(o===n){t=void 0;break}n=o}return t}(e);if(n){var r=l.dirname(n),s=i[r];if(void 0===s)try{var d=JSON.parse(u.readFileSync(n,"utf8"));try{var h=_(d,r);s=w(r,h?{header:d,nlsBundle:h}:null)}catch(e){console.error("Failed to load nls bundle",e),s=w(r,null)}}catch(e){console.error("Failed to read header file",e),s=w(r,null)}if(s){var p=e.substr(r.length+1).replace(/\\/g,"/"),y=s.nlsBundle[p];return void 0===y?(console.error("Messages for file "+e+" not found. See console for details."),function(){return"Messages not found."}):m(y)}}}if(a.messageFormat===o.both||a.messageFormat===o.file)try{var k=g(function(e){var t;if(a.cacheLanguageResolution&&t)t=t;else{if(c||!a.language)t=".nls.json";else for(var n=a.language;n;){var o=".nls."+n+".json";if(u.existsSync(e+o)){t=o;break}var r=n.lastIndexOf("-");r>0?n=n.substring(0,r):(t=".nls.json",n=null)}a.cacheLanguageResolution&&(t=t)}return e+t}(e));return Array.isArray(k)?m(k):f(k.messages)&&f(k.keys)?m(k.messages):(console.error("String bundle '"+e+"' uses an unsupported format."),function(){return"File bundle has unsupported format. See console for details"})}catch(e){"ENOENT"!==e.code&&console.error("Failed to load single file bundle",e)}return console.error("Failed to load message bundle for file "+e),function(){return"Failed to load message bundle. See console for details."}}!function(e){e.file="file",e.bundle="bundle",e.both="both"}(o=t.MessageFormat||(t.MessageFormat={})),function(e){e.standalone="standalone",e.languagePack="languagePack"}(r=t.BundleFormat||(t.BundleFormat={})),function(e){e.is=function(e){var t=e;return t&&f(t.key)&&f(t.comment)}}(s||(s={})),function(){if(a={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:o.bundle},h(process.env.VSCODE_NLS_CONFIG))try{var e=JSON.parse(process.env.VSCODE_NLS_CONFIG),t=void 0;if(e.availableLanguages){var n=e.availableLanguages["*"];h(n)&&(t=n)}if(h(e.locale)&&(a.locale=e.locale.toLowerCase()),void 0===t?a.language=a.locale:"en"!==t&&(a.language=t),function(e){return!0===e||!1===e}(e._languagePackSupport)&&(a.languagePackSupport=e._languagePackSupport),h(e._cacheRoot)&&(a.cacheRoot=e._cacheRoot),h(e._languagePackId)&&(a.languagePackId=e._languagePackId),h(e._translationsConfigFile)){a.translationsConfigFile=e._translationsConfigFile;try{a.translationsConfig=g(a.translationsConfigFile)}catch(t){e._corruptedFile&&u.writeFile(e._corruptedFile,"corrupted","utf8",function(e){console.error(e)})}}}catch(e){}c="pseudo"===a.locale,void 0,i=Object.create(null)}(),t.loadMessageBundle=S,t.config=function(e){return e&&(h(e.locale)&&(a.locale=e.locale.toLowerCase(),a.language=a.locale,void 0,i=Object.create(null)),void 0!==e.messageFormat&&(a.messageFormat=e.messageFormat),e.bundleFormat===r.standalone&&!0===a.languagePackSupport&&(a.languagePackSupport=!1)),c="pseudo"===a.locale,S}}]));
//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/undefined/extensions/vscode-account/dist/extension.js.map