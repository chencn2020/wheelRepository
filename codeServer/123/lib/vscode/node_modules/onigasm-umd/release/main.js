!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.onigasm=e():t.onigasm=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(5);async function i(t){return new Promise((n,i)=>{const{log:o,warn:s,error:a}=console;r({instantiateWasm:(e,n)=>(WebAssembly.instantiate(t,e).then(t=>{n(t.instance)}).catch(t=>{throw t}),{})}).then(t=>{e.onigasmH=t,n()}),"undefined"!=typeof print&&(console.log=o,console.error=a,console.warn=s)})}let o=!1;e.loadWASM=async function(t){if(o)throw new Error("Onigasm#init has been called and was succesful, subsequent calls are not allowed once initialized");if("string"==typeof t){const e=await(await fetch(t)).arrayBuffer();await i(e)}else{if(!(t instanceof ArrayBuffer))throw new TypeError("Expected a string (URL of .wasm file) or ArrayBuffer (.wasm file itself) as first parameter");await i(t)}o=!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(7),i=n(0),o=n(2);function s(t){const e=i.onigasmH._malloc(t.utf8Bytes.length);return i.onigasmH.HEAPU8.set(t.utf8Bytes,e),e}function a(t){const e=[];let n=0;for(;0!==i.onigasmH.HEAPU8[t];)e[n++]=i.onigasmH.HEAPU8[t++];return e.join()}const l=new r({dispose:(t,e)=>{const n=i.onigasmH._malloc(e.regexTPtrs.length);if(i.onigasmH.HEAPU8.set(e.regexTPtrs,n),0!==i.onigasmH._disposeCompiledPatterns(n,t.patterns.length)){const t=a(i.onigasmH._getLastError());throw new Error(t)}i.onigasmH._free(n)},max:1e3});class u{constructor(t){if(null===i.onigasmH)throw new Error("Onigasm has not been initialized, call loadWASM from 'onigasm' exports before using any other API");for(let e=0;e<t.length;e++){if("string"!=typeof t[e])throw new TypeError("First parameter to OnigScanner constructor must be array of (pattern) strings")}this.sources=t.slice()}get patterns(){return this.sources.slice()}findNextMatch(t,e,n){null==e&&(e=0),"function"==typeof e&&(n=e,e=0);try{n(null,this.findNextMatchSync(t,e))}catch(t){n(t)}}findNextMatchSync(t,e){null==e&&(e=0),e=this.convertToNumber(e);let n=l.get(this),r=0;if(!n){const t=i.onigasmH._malloc(4),e=[];for(let n=0;n<this.sources.length;n++){const l=this.sources[n],u=s(new o.default(l));if(0!==(r=i.onigasmH._compilePattern(u,t))){const t=a(i.onigasmH._getLastError());throw new Error(t)}const f=i.onigasmH.HEAP32[t/4];e.push(f),i.onigasmH._free(u)}n={regexTPtrs:new Uint8Array(Uint32Array.from(e).buffer)},i.onigasmH._free(t),l.set(this,n)}const u=t instanceof o.default?t:new o.default(this.convertToString(t)),f=s(u),c=i.onigasmH._malloc(8),h=i.onigasmH._malloc(n.regexTPtrs.length);if(i.onigasmH.HEAPU8.set(n.regexTPtrs,h),0!==(r=i.onigasmH._findBestMatch(h,this.sources.length,f,u.utf8Bytes.length-1,u.convertUtf16OffsetToUtf8(e),c))){const t=a(i.onigasmH._getLastError());throw new Error(t)}const[p,d,y]=new Uint32Array(i.onigasmH.HEAPU32.buffer,c,3);if(i.onigasmH._free(f),i.onigasmH._free(c),i.onigasmH._free(h),y>0){const t=new Uint32Array(i.onigasmH.HEAPU32.buffer,d,y),e=[];let n=0,r=0;for(;n<y;){const i=r++;let o=t[n++],s=t[n++];u.hasMultiByteCharacters&&(o=u.convertUtf8OffsetToUtf16(o),s=u.convertUtf8OffsetToUtf16(s)),e.push({end:s,index:i,length:s-o,start:o})}return i.onigasmH._free(d),{captureIndices:e,index:p,scanner:this}}return null}convertToString(t){return void 0===t?"undefined":null===t?"null":t instanceof o.default?t.content:t.toString()}convertToNumber(t){return t=parseInt(t,10),isFinite(t)||(t=0),t=Math.max(t,0)}}e.OnigScanner=u,e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t){if(this.substring=(t,e)=>this.source.substring(t,e),this.toString=(t,e)=>this.source,"string"!=typeof t)throw new TypeError("Argument must be a string");this.source=t,this._utf8Bytes=null,this._utf8Indexes=null}get utf8Bytes(){return this._utf8Bytes||this.encode(),this._utf8Bytes}get utf8Indexes(){return this._utf8Bytes||this.encode(),this._utf8Indexes}get content(){return this.source}get length(){return this.source.length}get hasMultiByteCharacters(){return null!==this.utf8Indexes}convertUtf8OffsetToUtf16(t){if(t<0)return 0;if(t>=this._utf8Bytes.length-1)return this.source.length;const e=this.utf8Indexes;return e&&t>=this._mappingTableStartOffset?function(t,e){let n=0,r=t.length;if(0===r)return 0;for(;n<r;){const i=Math.floor((n+r)/2);t[i]>=e?r=i:n=i+1}for(;n>0&&(n>=t.length||t[n]>e);)n--;n>0&&t[n]===t[n-1]&&n--;return n}(e,t-this._mappingTableStartOffset)+this._mappingTableStartOffset:t}convertUtf16OffsetToUtf8(t){if(t<0)return 0;const e=this._utf8Bytes;if(t>=this.source.length)return e.length-1;const n=this.utf8Indexes;return n&&t>=this._mappingTableStartOffset?n[t-this._mappingTableStartOffset]+this._mappingTableStartOffset:t}encode(){const t=this.source,e=t.length;let n,r=0,i=0;function o(t){const o=3*(e-t);n=o<=255?new Uint8Array(e-t):o<=65535?new Uint16Array(e-t):new Uint32Array(e-t),i=t,n[r++]=0}const s=new Uint8Array(3*e+1);let a=0,l=0;for(;l<t.length;){let u;const f=t.charCodeAt(l);if(n&&(n[r++]=a-i),f<55296||f>57343)u=f;else if(f>=56320)u=65533;else if(l===e-1)u=65533;else{const e=t.charCodeAt(l+1);if(56320<=e&&e<=57343){n||o(l),u=65536+((1023&f)<<10)+(1023&e),l+=1,n[r++]=a-i}else u=65533}let c,h;if(u<=127?(c=1,h=0):u<=2047?(c=2,h=192):u<=65535?(c=3,h=224):(c=4,h=240),1===c)s[a++]=u;else for(n||o(a),s[a++]=(u>>6*--c)+h;c>0;){const t=u>>6*(c-1);s[a++]=128|63&t,c-=1}l+=1}const u=s.slice(0,a+1);u[a]=0,this._utf8Bytes=u,n&&(this._utf8Indexes=n,this._mappingTableStartOffset=i)}}},function(t,e,n){const r=n(4);e.loadWASM=r.loadWASM,e.OnigRegExp=r.OnigRegExp,e.OnigScanner=r.OnigScanner,e.OnigString=r.OnigString},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(0);e.loadWASM=r.loadWASM;const i=n(6);e.OnigRegExp=i.default;const o=n(1);e.OnigScanner=o.default;const s=n(2);e.OnigString=s.default},function(t,e,n){var r=function(){"undefined"!=typeof document&&document.currentScript&&document.currentScript.src;return function(t){var e,n=void 0!==(t=t||{})?t:{},r={};for(e in n)n.hasOwnProperty(e)&&(r[e]=n[e]);var i,o=[],s=!1,a=!1,l=!0,u="";function f(t){return n.locateFile?n.locateFile(t,u):u+t}l&&("undefined"!=typeof read&&function(t){return read(t)},i=function(t){var e;return"function"==typeof readbuffer?new Uint8Array(readbuffer(t)):(v("object"==typeof(e=read(t,"binary"))),e)},"undefined"!=typeof scriptArgs?o=scriptArgs:void 0!==arguments&&(o=arguments),"function"==typeof quit&&function(t){quit(t)},"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print));var c=n.print||console.log.bind(console),h=n.printErr||console.warn.bind(console);for(e in r)r.hasOwnProperty(e)&&(n[e]=r[e]);r=null,n.arguments&&(o=n.arguments),n.thisProgram&&n.thisProgram,n.quit&&n.quit;var p,d,y=function(t){t};n.wasmBinary&&(p=n.wasmBinary),n.noExitRuntime&&n.noExitRuntime,"object"!=typeof WebAssembly&&h("no native wasm support detected");var g=new WebAssembly.Table({initial:244,maximum:244,element:"anyfunc"}),m=!1;function v(t,e){t||$("Assertion failed: "+e)}function w(t){var e=n["_"+t];return v(e,"Cannot call unknown function "+t+", make sure it is exported"),e}function b(t,e,n,r,i){var o={string:function(t){var e=0;if(null!=t&&0!==t){var n=1+(t.length<<2);E(t,e=xt(n),n)}return e},array:function(t){var e=xt(t.length);return C(t,e),e}};var s=w(t),a=[],l=0;if(r)for(var u=0;u<r.length;u++){var f=o[n[u]];f?(0===l&&(l=_t()),a[u]=f(r[u])):a[u]=r[u]}var c=s.apply(null,a);return c=function(t){return"string"===e?A(t):"boolean"===e?Boolean(t):t}(c),0!==l&&At(l),c}var _="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function x(t,e,n){for(var r=e+n,i=e;t[i]&&!(i>=r);)++i;if(i-e>16&&t.subarray&&_)return _.decode(t.subarray(e,i));for(var o="";e<i;){var s=t[e++];if(128&s){var a=63&t[e++];if(192!=(224&s)){var l=63&t[e++];if((s=224==(240&s)?(15&s)<<12|a<<6|l:(7&s)<<18|a<<12|l<<6|63&t[e++])<65536)o+=String.fromCharCode(s);else{var u=s-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&s)<<6|a)}else o+=String.fromCharCode(s)}return o}function A(t,e){return t?x(H,t,e):""}function S(t,e,n,r){if(!(r>0))return 0;for(var i=n,o=n+r-1,s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a>=55296&&a<=57343)a=65536+((1023&a)<<10)|1023&t.charCodeAt(++s);if(a<=127){if(n>=o)break;e[n++]=a}else if(a<=2047){if(n+1>=o)break;e[n++]=192|a>>6,e[n++]=128|63&a}else if(a<=65535){if(n+2>=o)break;e[n++]=224|a>>12,e[n++]=128|a>>6&63,e[n++]=128|63&a}else{if(n+3>=o)break;e[n++]=240|a>>18,e[n++]=128|a>>12&63,e[n++]=128|a>>6&63,e[n++]=128|63&a}}return e[n]=0,n-i}function E(t,e,n){return S(t,H,e,n)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");function C(t,e){T.set(t,e)}var O,T,H,P,M=65536;function R(t,e){return t%e>0&&(t+=e-t%e),t}function U(t){O=t,n.HEAP8=T=new Int8Array(t),n.HEAP16=new Int16Array(t),n.HEAP32=P=new Int32Array(t),n.HEAPU8=H=new Uint8Array(t),n.HEAPU16=new Uint16Array(t),n.HEAPU32=new Uint32Array(t),n.HEAPF32=new Float32Array(t),n.HEAPF64=new Float64Array(t)}var k=5507664,I=264624,B=n.TOTAL_MEMORY||157286400;function j(t){for(;t.length>0;){var e=t.shift();if("function"!=typeof e){var r=e.func;"number"==typeof r?void 0===e.arg?n.dynCall_v(r):n.dynCall_vi(r,e.arg):r(void 0===e.arg?null:e.arg)}else e()}}(d=n.wasmMemory?n.wasmMemory:new WebAssembly.Memory({initial:B/M}))&&(O=d.buffer),B=O.byteLength,U(O),P[I>>2]=k;var W=[],F=[],N=[],D=[];function L(){if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)Y(n.preRun.shift());j(W)}function z(){!0,j(F)}function q(){j(N)}function G(){if(n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;)Z(n.postRun.shift());j(D)}function Y(t){W.unshift(t)}function Z(t){D.unshift(t)}Math.abs,Math.ceil,Math.floor,Math.min;var J=0,K=null,Q=null;function V(t){J++,n.monitorRunDependencies&&n.monitorRunDependencies(J)}function X(t){if(J--,n.monitorRunDependencies&&n.monitorRunDependencies(J),0==J&&(null!==K&&(clearInterval(K),K=null),Q)){var e=Q;Q=null,e()}}function $(t){throw n.onAbort&&n.onAbort(t),c(t+=""),h(t),m=!0,1,t="abort("+t+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(t)}n.preloadedImages={},n.preloadedAudios={};var tt="data:application/octet-stream;base64,";function et(t){return String.prototype.startsWith?t.startsWith(tt):0===t.indexOf(tt)}var nt="onigasm.wasm";function rt(){try{if(p)return new Uint8Array(p);if(i)return i(nt);throw"both async and sync fetching of the wasm failed"}catch(t){$(t)}}function it(){return p||!s&&!a||"function"!=typeof fetch?new Promise((function(t,e){t(rt())})):fetch(nt,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+nt+"'";return t.arrayBuffer()})).catch((function(){return rt()}))}function ot(){var t={env:mt,wasi_unstable:mt};function e(t,e){var r=t.exports;n.asm=r,X()}function r(t){e(t.instance)}function i(e){return it().then((function(e){return WebAssembly.instantiate(e,t)})).then(e,(function(t){h("failed to asynchronously prepare wasm: "+t),$(t)}))}if(V(),n.instantiateWasm)try{return n.instantiateWasm(t,e)}catch(t){return h("Module.instantiateWasm callback failed with error: "+t),!1}return function(){if(p||"function"!=typeof WebAssembly.instantiateStreaming||et(nt)||"function"!=typeof fetch)return i(r);fetch(nt,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,t).then(r,(function(t){h("wasm streaming compile failed: "+t),h("falling back to ArrayBuffer instantiation"),i(r)}))}))}(),{}}function st(){$()}function at(){return T.length}function lt(){return 264624}function ut(t,e,n){H.set(H.subarray(e,e+n),t)}function ft(t){try{return d.grow(t-O.byteLength+65535>>16),U(d.buffer),1}catch(t){}}function ct(t){var e=at();if(t>2147418112)return!1;for(var n=Math.max(e,16777216);n<t;)n=n<=536870912?R(2*n,65536):Math.min(R((3*n+2147483648)/4,65536),2147418112);return!!ft(n)}et(nt)||(nt=f(nt)),F.push({func:function(){bt()}});var ht={buffers:[null,[],[]],printChar:function(t,e){var n=ht.buffers[t];0===e||10===e?((1===t?c:h)(x(n,0)),n.length=0):n.push(e)},varargs:0,get:function(t){return ht.varargs+=4,P[ht.varargs-4>>2]},getStr:function(){return A(ht.get())},get64:function(){var t=ht.get();ht.get();return t},getZero:function(){ht.get()}};function pt(t){try{return 0}catch(t){return"undefined"!=typeof FS&&t instanceof FS.ErrnoError||$(t),t.errno}}function dt(t,e,n,r,i){try{return 0}catch(t){return"undefined"!=typeof FS&&t instanceof FS.ErrnoError||$(t),t.errno}}function yt(t,e,n,r){try{for(var i=0,o=0;o<n;o++){for(var s=P[e+8*o>>2],a=P[e+(8*o+4)>>2],l=0;l<a;l++)ht.printChar(t,H[s+l]);i+=a}return P[r>>2]=i,0}catch(t){return"undefined"!=typeof FS&&t instanceof FS.ErrnoError||$(t),t.errno}}function gt(t){y(0|t)}var mt={abort:st,emscripten_get_sbrk_ptr:lt,emscripten_memcpy_big:ut,emscripten_resize_heap:ct,fd_close:pt,fd_seek:dt,fd_write:yt,memory:d,setTempRet0:gt,table:g},vt=ot();n.asm=vt;var wt,bt=n.___wasm_call_ctors=function(){return n.asm.__wasm_call_ctors.apply(null,arguments)},_t=(n._malloc=function(){return n.asm.malloc.apply(null,arguments)},n._free=function(){return n.asm.free.apply(null,arguments)},n._getLastError=function(){return n.asm.getLastError.apply(null,arguments)},n._compilePattern=function(){return n.asm.compilePattern.apply(null,arguments)},n._disposeCompiledPatterns=function(){return n.asm.disposeCompiledPatterns.apply(null,arguments)},n._findBestMatch=function(){return n.asm.findBestMatch.apply(null,arguments)},n.___cxa_demangle=function(){return n.asm.__cxa_demangle.apply(null,arguments)},n._setThrew=function(){return n.asm.setThrew.apply(null,arguments)},n.stackSave=function(){return n.asm.stackSave.apply(null,arguments)}),xt=n.stackAlloc=function(){return n.asm.stackAlloc.apply(null,arguments)},At=n.stackRestore=function(){return n.asm.stackRestore.apply(null,arguments)};n.__growWasmMemory=function(){return n.asm.__growWasmMemory.apply(null,arguments)},n.dynCall_vi=function(){return n.asm.dynCall_vi.apply(null,arguments)},n.dynCall_iiii=function(){return n.asm.dynCall_iiii.apply(null,arguments)},n.dynCall_iiiii=function(){return n.asm.dynCall_iiiii.apply(null,arguments)},n.dynCall_iii=function(){return n.asm.dynCall_iii.apply(null,arguments)},n.dynCall_iidiiii=function(){return n.asm.dynCall_iidiiii.apply(null,arguments)},n.dynCall_vii=function(){return n.asm.dynCall_vii.apply(null,arguments)},n.dynCall_ii=function(){return n.asm.dynCall_ii.apply(null,arguments)},n.dynCall_i=function(){return n.asm.dynCall_i.apply(null,arguments)},n.dynCall_v=function(){return n.asm.dynCall_v.apply(null,arguments)},n.dynCall_viiiiii=function(){return n.asm.dynCall_viiiiii.apply(null,arguments)},n.dynCall_viiiii=function(){return n.asm.dynCall_viiiii.apply(null,arguments)},n.dynCall_viiii=function(){return n.asm.dynCall_viiii.apply(null,arguments)},n.dynCall_jiji=function(){return n.asm.dynCall_jiji.apply(null,arguments)};function St(t){function e(){wt||(wt=!0,m||(z(),q(),n.onRuntimeInitialized&&n.onRuntimeInitialized(),G()))}t=t||o,J>0||(L(),J>0||(n.setStatus?(n.setStatus("Running..."),setTimeout((function(){setTimeout((function(){n.setStatus("")}),1),e()}),1)):e()))}if(n.asm=vt,n.ccall=b,n.then=function(t){if(wt)t(n);else{var e=n.onRuntimeInitialized;n.onRuntimeInitialized=function(){e&&e(),t(n)}}return n},Q=function t(){wt||St(),wt||(Q=t)},n.run=St,n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return!0,St(),t}}();t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(1);e.default=class{constructor(t){this.source=t;try{this.scanner=new r.default([this.source])}catch(t){}}searchSync(t,e){let n;return null==e&&(e=0),n=this.scanner.findNextMatchSync(t,e),this.captureIndicesForMatch(t,n)}search(t,e,n){null==e&&(e=0),"function"==typeof e&&(n=e,e=0);try{n(null,this.searchSync(t,e))}catch(t){n(t)}}testSync(t){return"boolean"==typeof this.source||"boolean"==typeof t?this.source===t:null!=this.searchSync(t)}test(t,e){"function"!=typeof e&&(e=()=>{});try{e(null,this.testSync(t))}catch(t){e(t)}}captureIndicesForMatch(t,e){if(null!=e){const{captureIndices:n}=e;let r;t=this.scanner.convertToString(t);for(let e=0;e<n.length;e++)(r=n[e]).match=t.slice(r.start,r.end);return n}return null}}},function(t,e,n){"use strict";const r=n(8),i=Symbol("max"),o=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),l=Symbol("maxAge"),u=Symbol("dispose"),f=Symbol("noDisposeOnSet"),c=Symbol("lruList"),h=Symbol("cache"),p=Symbol("updateAgeOnGet"),d=()=>1;const y=(t,e,n)=>{const r=t[h].get(e);if(r){const e=r.value;if(g(t,e)){if(v(t,r),!t[a])return}else n&&(t[p]&&(r.value.now=Date.now()),t[c].unshiftNode(r));return e.value}},g=(t,e)=>{if(!e||!e.maxAge&&!t[l])return!1;const n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t[l]&&n>t[l]},m=t=>{if(t[o]>t[i])for(let e=t[c].tail;t[o]>t[i]&&null!==e;){const n=e.prev;v(t,e),e=n}},v=(t,e)=>{if(e){const n=e.value;t[u]&&t[u](n.key,n.value),t[o]-=n.length,t[h].delete(n.key),t[c].removeNode(e)}};class w{constructor(t,e,n,r,i){this.key=t,this.value=e,this.length=n,this.now=r,this.maxAge=i||0}}const b=(t,e,n,r)=>{let i=n.value;g(t,i)&&(v(t,n),t[a]||(i=void 0)),i&&e.call(r,i.value,i.key,t)};t.exports=class{constructor(t){if("number"==typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!=typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[i]=t.max||1/0;const e=t.length||d;if(this[s]="function"!=typeof e?d:e,this[a]=t.stale||!1,t.maxAge&&"number"!=typeof t.maxAge)throw new TypeError("maxAge must be a number");this[l]=t.maxAge||0,this[u]=t.dispose,this[f]=t.noDisposeOnSet||!1,this[p]=t.updateAgeOnGet||!1,this.reset()}set max(t){if("number"!=typeof t||t<0)throw new TypeError("max must be a non-negative number");this[i]=t||1/0,m(this)}get max(){return this[i]}set allowStale(t){this[a]=!!t}get allowStale(){return this[a]}set maxAge(t){if("number"!=typeof t)throw new TypeError("maxAge must be a non-negative number");this[l]=t,m(this)}get maxAge(){return this[l]}set lengthCalculator(t){"function"!=typeof t&&(t=d),t!==this[s]&&(this[s]=t,this[o]=0,this[c].forEach(t=>{t.length=this[s](t.value,t.key),this[o]+=t.length})),m(this)}get lengthCalculator(){return this[s]}get length(){return this[o]}get itemCount(){return this[c].length}rforEach(t,e){e=e||this;for(let n=this[c].tail;null!==n;){const r=n.prev;b(this,t,n,e),n=r}}forEach(t,e){e=e||this;for(let n=this[c].head;null!==n;){const r=n.next;b(this,t,n,e),n=r}}keys(){return this[c].toArray().map(t=>t.key)}values(){return this[c].toArray().map(t=>t.value)}reset(){this[u]&&this[c]&&this[c].length&&this[c].forEach(t=>this[u](t.key,t.value)),this[h]=new Map,this[c]=new r,this[o]=0}dump(){return this[c].map(t=>!g(this,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[c]}set(t,e,n){if((n=n||this[l])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,a=this[s](e,t);if(this[h].has(t)){if(a>this[i])return v(this,this[h].get(t)),!1;const s=this[h].get(t).value;return this[u]&&(this[f]||this[u](t,s.value)),s.now=r,s.maxAge=n,s.value=e,this[o]+=a-s.length,s.length=a,this.get(t),m(this),!0}const p=new w(t,e,a,r,n);return p.length>this[i]?(this[u]&&this[u](t,e),!1):(this[o]+=p.length,this[c].unshift(p),this[h].set(t,this[c].head),m(this),!0)}has(t){if(!this[h].has(t))return!1;const e=this[h].get(t).value;return!g(this,e)}get(t){return y(this,t,!0)}peek(t){return y(this,t,!1)}pop(){const t=this[c].tail;return t?(v(this,t),t.value):null}del(t){v(this,this[h].get(t))}load(t){this.reset();const e=Date.now();for(let n=t.length-1;n>=0;n--){const r=t[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{const t=i-e;t>0&&this.set(r.k,r.v,t)}}}prune(){this[h].forEach((t,e)=>y(this,e,!1))}}},function(t,e,n){"use strict";function r(t){var e=this;if(e instanceof r||(e=new r),e.tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach((function(t){e.push(t)}));else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)e.push(arguments[n]);return e}function i(t,e,n){var r=e===t.head?new a(n,null,e,t):new a(n,e,e.next,t);return null===r.next&&(t.tail=r),null===r.prev&&(t.head=r),t.length++,r}function o(t,e){t.tail=new a(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function s(t,e){t.head=new a(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function a(t,e,n,r){if(!(this instanceof a))return new a(t,e,n,r);this.list=r,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}t.exports=r,r.Node=a,r.create=r,r.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;return e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,e},r.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},r.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},r.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)o(this,arguments[t]);return this.length},r.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)s(this,arguments[t]);return this.length},r.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},r.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},r.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,r=0;null!==n;r++)t.call(e,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,r=this.length-1;null!==n;r--)t.call(e,n.value,r,this),n=n.prev},r.prototype.get=function(t){for(var e=0,n=this.head;null!==n&&e<t;e++)n=n.next;if(e===t&&null!==n)return n.value},r.prototype.getReverse=function(t){for(var e=0,n=this.tail;null!==n&&e<t;e++)n=n.prev;if(e===t&&null!==n)return n.value},r.prototype.map=function(t,e){e=e||this;for(var n=new r,i=this.head;null!==i;)n.push(t.call(e,i.value,this)),i=i.next;return n},r.prototype.mapReverse=function(t,e){e=e||this;for(var n=new r,i=this.tail;null!==i;)n.push(t.call(e,i.value,this)),i=i.prev;return n},r.prototype.reduce=function(t,e){var n,r=this.head;if(arguments.length>1)n=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=t(n,r.value,i),r=r.next;return n},r.prototype.reduceReverse=function(t,e){var n,r=this.tail;if(arguments.length>1)n=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=t(n,r.value,i),r=r.prev;return n},r.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;null!==n;e++)t[e]=n.value,n=n.next;return t},r.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;null!==n;e++)t[e]=n.value,n=n.prev;return t},r.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var n=new r;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=0,o=this.head;null!==o&&i<t;i++)o=o.next;for(;null!==o&&i<e;i++,o=o.next)n.push(o.value);return n},r.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var n=new r;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=this.length,o=this.tail;null!==o&&i>e;i--)o=o.prev;for(;null!==o&&i>t;i--,o=o.prev)n.push(o.value);return n},r.prototype.splice=function(t,e){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,r=this.head;null!==r&&n<t;n++)r=r.next;var o=[];for(n=0;r&&n<e;n++)o.push(r.value),r=this.removeNode(r);null===r&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev);for(n=2;n<arguments.length;n++)r=i(this,r,arguments[n]);return o},r.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=e,this.tail=t,this};try{n(9)(r)}catch(t){}},function(t,e,n){"use strict";t.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}}])}));